@page "{eventId:int}/{applicationId:int}"
@model Web.Pages.Organizer.ApplicationDetailsModel
@{
    ViewData["Title"] = "Application Details";
	var message = Model?.Application?.Message ?? "No message was included in this application.";
}

<div class="application-details container">
    <!-- Freelancer Info -->
    <section class="freelancer-overview">
        <h1 class="freelancer-name">@Model?.Application?.FreelancerName</h1>
        <p class="freelancer-meta">
            Applied on <strong>@Model?.Application?.AppliedOn.ToString("yyyy-MM-dd")</strong>
            | Status: <span class="status-label">@Model?.Application?.Status</span>
        </p>
    </section>

    <!-- Application Message -->
    <section class="application-message">
        <h2 class="section-title">Application Message</h2>
        <p>
            @message
        </p>
    </section>

    <!-- Event Recap -->
    <section class="event-summary">
        <h2 class="section-title">Event Details</h2>
        <div class="event-grid">
            <p><strong>Title:</strong> @Model?.Application?.EventTitle</p>
            <p><strong>Role:</strong> @Model?.Application?.Role</p>
            <p><strong>Date:</strong> @Model?.Application?.EventDate</p>
        </div>
        <a asp-page="/Organizer/EventDetails" asp-route-eventId="@Model?.EventId" class="btn-view">View Full Event</a>
    </section>

    <!-- Review Actions -->
    <section class="application-actions">
        <h2 class="section-title">Review Application</h2>
        <form method="post" asp-page-handler="Review" class="review-form">
            <select name="status" class="form-control select-status">
                <option value="Accepted">Accept</option>
                <option value="Rejected">Reject</option>
                <option value="Withdrawn">Withdraw</option>
            </select>
            <button type="submit" class="btn-primary">Update Status</button>
        </form>
    </section>

    <a asp-page="Applications" asp-route-eventId="@Model?.EventId" class="btn-secondary back-btn">
        Back to Applications
    </a>
</div>
