@page "{id:int}"
@model Web.Pages.Event.EventDetailsModel

@{
    ViewData["Title"] = "Event Details";
}

<section class="event-details">
    @if (Model.Event != null)
    {
        <div class="event-details-grid">
            <!-- Left: Event Image -->
            <div class="event-details-image">
                <img src="@Model.Event.PictureUri" alt="@Model.Event.Title"/>
            </div>

            <!-- Right: Event Details -->
            <div class="event-details-info">
                <h1 class="event-details-title">@Model.Event.Title</h1>
                <p class="event-details-role">Role: @Model.Event.Role</p>
                <p class="event-details-organizer">Organizer: @Model.Event.OrganizerName</p>

                <!-- Meta Data -->
                <div class="event-details-meta">
                    <div class="event-details-meta-item">
                        <!-- Calendar Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="event-details-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0
                                      00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                        </svg>
                        <span>@Model.Event.Date.ToString("dddd, MMMM dd, yyyy · h:mm tt 'BST'")</span>
                    </div>

                    <div class="event-details-meta-item">
                        <!-- Map Pin Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="event-details-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M12 11c1.657 0 3-1.343 3-3S13.657 5 12
                                      5s-3 1.343-3 3 1.343 3 3 3z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M19.5 10.5c0 7.5-7.5 11.25-7.5
                                      11.25S4.5 18 4.5 10.5a7.5 7.5 0
                                      1115 0z" />
                        </svg>
                        <span>@Model.Event.Location</span>
                    </div>
                </div>

                <!-- Description -->
                <div class="event-details-description">
                    <h2>Role Requirements</h2>
                    <ul class="event-details-requirements">
                        @foreach(var requirement in Model.Event.Requirements)
                        {
                            <li>@requirement.Description</li>
                        }
                    </ul>
                </div>

                <div class="event-details-description">
                    <h2>Event Description</h2>
                    <p>@Model.Event.Description</p>
                </div>

                <!-- CTA -->
                <div class="event-details-cta">
                    <a asp-area="Identity" asp-page="/Account/Login" class="event-details-button">
                        Sign in / Sign up to Apply
                    </a>
                </div>

            </div>
        </div>
    }
    else
    {
        <p>Event not found.</p>
    }
</section>
